"use strict";(self.webpackChunkchat_ui=self.webpackChunkchat_ui||[]).push([[903],{5903:(P,d,n)=>{n.r(d),n.d(d,{AddFriendsComponent:()=>v});var r=n(4006),E=n(1135),u=n(8372),m=n(3900),p=n(9646),f=n(3780),a=n(6895),c=n(9549),l=n(4144),_=n(4850),h=n(4444),t=n(4650),C=n(4285),A=n(8350),D=n(5526);function O(s,i){if(1&s&&(t.TgZ(0,"div"),t._UZ(1,"app-add-friends-list-item",6)(2,"mat-divider"),t.qZA()),2&s){const e=i.$implicit,o=t.oxw();t.xp6(1),t.Q6J("user",e)("actionFunction",o.actionFunction)("onNextAction",o.onNextAction)("onComplectAction",o.onComplectAction)("onErrorAction",o.onErrorAction)("buttonText","Add")("btnClass","abcd")}}let v=(()=>{class s{constructor(e,o,M){this.appState=e,this.router=o,this.db=M,this.filterUserSubject=new E.X([]),this.filterUsers$=this.filterUserSubject.asObservable(),this.searchFormControl=new r.NI("")}ngOnInit(){this.valueChangeHandler(),this.filterUsers$=this.db.getUserList(this.appState.userDocID,"")}valueChangeHandler(){this.searchFormControl.valueChanges.pipe((0,u.b)(500),(0,m.w)(e=>(this.filterUsers$=this.db.getUserList(this.appState.userDocID,e),this.filterUsers$))).subscribe()}goBack(){this.router.navigate(["/home"])}actionFunction(e){return this.appState.userDocID?this.db.addFriends(this.appState.userDocID,e.uid):(0,p.of)(null)}onComplectAction(e){this.appState.showNonfiction("Request send to "+e.displayName),this.appState.reloadRequired$.next(f.S.CHAT_LIST)}onErrorAction(e,o){console.error(o),this.appState.showError(JSON.stringify(o))}onNextAction(e,o){console.log("opt to next action ",o)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(C.Z),t.Y36(A.F0),t.Y36(D.d))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-add-friends"]],standalone:!0,features:[t.jDz],decls:9,vars:4,consts:[[1,"search-field"],["appearance","legacy"],["type","text","matInput","","placeholder","Search..",3,"formControl"],["matSuffix",""],[1,"searchResultes"],[4,"ngFor","ngForOf"],[3,"user","actionFunction","onNextAction","onComplectAction","onErrorAction","buttonText","btnClass"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"mat-form-field",1),t._UZ(3,"input",2),t.TgZ(4,"mat-icon",3),t._uU(5,"search"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,O,3,7,"div",5),t.ALo(8,"async"),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formControl",o.searchFormControl),t.xp6(4),t.Q6J("ngForOf",t.lcZ(8,2,o.filterUsers$)))},dependencies:[a.ez,a.sg,a.Ov,l.c,c.KE,c.R9,l.Nt,c.lN,r.UX,r.Fj,r.JJ,r.oH,_.t,_.d,h.n],styles:[".search-field[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;margin-top:16px}.searchResultes[_ngcontent-%COMP%]     .abcd:not([class*=mat-button-disabled]){background-color:#9c27b0;color:#fff}"]}),s})()}}]);